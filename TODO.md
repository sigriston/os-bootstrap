# TODO: Arch Linux ansible bootstrap setup

- configure `tlp` (on `/etc/default/tlp` to have more aggressive perf when on AC)?
- `polybar` config to display KB layouts as only `US` or `Intl` (use layout
  index and associate each with a static label)
- `polybar` config to display temperature/sensors
- multiple monitors!
  - have a `udev` script that triggers on `drm` changes with `HOTPLUG`
  - `udev` script should call xrandr and config screens accordingly, it should also restart WM
  - should we restart `lightdm` as well?
  - do we have to configure `lightdm` somehow?
  - `bspwmrc` should have dynamic logic (by calling `xrandr -q | grep
    '\bconnected\b' | awk '{print $1}'`) and configure virtual desktops
    appropriately for how many monitors there are
  - `polybar` config should also have dynamic logic for bars on multiple monitors

- `sxhkd` launchers / shortcuts config. Free keys:
  - a, e, r (RUN?), z (used with ctrl), u, d, x (used with ctrl), n (NAVIGATOR)
- `bspwm` rules
- password manager:
  - `pass`
  - `pass-tomb` ?
  - `pass-import`
  - `pass-update`
  - `pass-otp`
  - `rofi-pass`
  - `browserpass`
- **UNKNOWN** keyboard layout: `caps:hyper` not working with `ctrl:swapcaps` as well.
  Should make one of the Ctrl keys work as Hyper in order to have another
  modifier for `sxhkd`.
- **VM** **FUTURE** actually detect intel graphics vs virtualbox/vmsvga/spice on xorg install
- **MAC** **FUTURE** extend base16-manager to work with iTerm2? ([ref](https://coderwall.com/p/s-2_nw/change-iterm2-color-profile-from-the-cli)).
- **OPENBSD** **FUTURE** port to OpenBSD
- **QUESTION** **FUTURE** seamless boot with plymouth? is there a perf hit?
- **QUESTION** **FUTURE** intel graphics screen tearing on scroll?
  - check out [arch wiki](https://wiki.archlinux.org/index.php/intel_graphics#Tearing)

## DONE
- install proper X fonts
- fix cedilla for `en_US.UTF-8` locale
- set proper caps=ctrl key (`setxkbmap -option ctrl:swapcaps,caps:hyper`?)
  - future: keyboard layout switching?
- xsel
- compton
- set natural scroll direction
- user wallpaper
- lightdm wallpaper
- install polybar actually
- polybar config
  - polybar startup
- audio
- tamzen bitmap font
- enable media controls (volume etc) from keyboard
- battery indicator
- backlight controls
- load i915 module early at boot
- thinkfan
- hardware-accelerated video?
- mpv
- add cpupower and powertop
- add config to systemd so that:
  - powersave governor when on battery
  - performance governor when on AC
- screen lock
- install dunst for notifications
- dotfiles
- fish fish fish fish fish `><>`
- "command not found" stuff
- install base16-manager with Xresources, rofi, vim
  - Xresources: need to create dir `~/.Xresources.d`
  - rofi: need to create dir `~/.config/rofi`
  - vim need to create dir `~/.config/nvim`, install base16-vim and source `~/.config/nvim/colorscheme.vim`
  - polybar: use Xresources colors
  - dunst!
- deepin wallpapers
- `urxvt`
  - disable Ctrl-S/Ctrl-Q in urxvt (fish gives this for free)
  - set transparency
  - use `urxvtd` and `urxvtc`
- start `ssh-agent` at login
- port `vim` role to arch
- screenshot with `maim`
- clipboard manager (`clipmenu` probably, with `rofi` and `super + v`)
- kvm/qemu/libvirt/virt-manager
- docker
- port/cleanup all old roles from `osx-bootstrap`:
  - `apps`
  - `nodejs`
  - `tmux`
  - `tools`
  - `python` (deprecated)
  - `ruby` (deprecated)
  - `R`
- new roles:
  - `rust`
- fix packages tasks to not use looping / `with_items`
- automate actual install parts (like UEFI / EFISTUB setup)
- new install, fixed lots of bugs:
  - incorrect EFISTUB
  - forgot to add font-awesome to font list
  - running yay with root to install thinkfan
  - install `openssh`
  - install `libxkbcommon` to enable `localectl`
  - build `polybar` only after audio
  - don't start `lightdm`
- enable periodic TRIM on SSDs
- detect VM on `arch-install.sh`
- `polybar` config for better window title display
  - `colors.primary` underline
  - align title on left
  - more room for title
  - icon
- `arch-install.sh` detects BIOS (for coreboot) vs. UEFI
  - BIOS: partition GPT, 1 MiB BIOS boot partition, 511 MiB /boot ext2, install GRUB
  - UEFI: current setup w/ GPT, ESP partition, EFISTUB
- TLP install?
  - detect hardware and install it only on battery-powered hardware
  - should remove udev script for changing governor?
- enable cedilla in GTK apps
- setup optimized mirrors
- take out battery drivers (TLP 1.2 has native control)
- setup mkinitcpio to lz4
- configure `mpv` to use hardware decoding whenever possible
